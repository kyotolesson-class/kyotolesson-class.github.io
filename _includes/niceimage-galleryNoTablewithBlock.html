<!--  from an idea at https://jekyllcodex.org/without-plugin/image-gallery/#
This version doesn't use tables 
uses checkbox hack
TODO fix for size of window
TODO move style to main. -->
<style>
span.cover {
position: relative;
    height: 190px;
    z-index: 0;
    top: -127px;
    margin-bottom: -152px;
    background-color: green;
    width: 100%;
    padding: 89px 50%;
}

/* Checkbox Hack */

input[type=checkbox] {
   position: absolute;
   /* top: -9999px;*/
   left: -9999px;
   margin-bottom: -201px;
}
label { 
    -webkit-appearance: push-button;
    -moz-appearance: button;
    display: inline-block;
    /* margin: 0px 100px; */
    cursor: pointer;
    z-index: 200;
    background: pink;
    position: relative;
    top: -152px;
}

.covercontainer {
margin-bottom: -64px;

}
/* Default State */

/* Toggled State */
.slider2 input[type=checkbox]:checked ~ span.cover {
   background-color: transparent;
}

</style>
<div class="slider2">
<!-- These have to be links  -->
<div class="galleryslides">

{% for file in site.static_files %} {% if file.path contains include.folder %} {% if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.PNG' or file.extname == '.png' or file.extname == '.JPEG' %} {% assign filenameparts = file.path | split: "/" %} {% assign filename = filenameparts | last | replace: file.extname,"" %} {% assign file2 = file.basename | replace: " ","_" | prepend:  filenameparts[-2]  | prepend: "#imagegallery2-"  %} 
[![ {{ filename }} ]({{ file.path }})]({{ file.path }}){: target="_blank"} 
{: {{ file2 }} } 
{% endif %} {% endif %} {% endfor %}



</div>
<p class="covervontainer">
<label for="cover{{ include.folder | split: '/' | last | replace: file.extname,'' }}">
Click to show code</label> 
<input type="checkbox" id="cover{{ include.folder | split: '/' | last | replace: file.extname,'' }}"><span class="cover"> input </span></p>
<!-- necessary space-->
<div class="gallerymenu"> 

{% for file in site.static_files %} {%- if file.path contains include.folder -%} {%- if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.PNG' or file.extname == '.png' or file.extname == '.JPEG' %} {% assign filenameparts = file.path | split: "/" -%} {%- assign filename = filenameparts | last | replace: file.extname,"" -%} {% assign file2 = file.basename | replace: " ","_" %} 
[{{ filename }}](#imagegallery2-{{ file2 | prepend: filenameparts[-2] }}) 
{%- endif -%} {%- endif -%} {% endfor %}


</div> 

</div>

