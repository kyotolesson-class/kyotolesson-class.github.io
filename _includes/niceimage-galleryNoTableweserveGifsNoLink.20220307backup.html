<!--  from an idea at https://jekyllcodex.org/without-plugin/image-gallery/#
This version doesn't use tables -->

<div class="slider2">
<!-- These have to be links  -->
<div class="galleryslides">

{% for file in site.static_files %} {% if file.path contains include.folder %} {% if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.PNG' or file.extname == '.png' or file.extname == '.JPEG' or file.extname == '.GIF' or file.extname == '.gif' or file.extname == '.mp4' or file.extname == '.MP4' %} {% assign filenameparts = file.path | split: "/" %} {% assign filename = filenameparts | last | replace: file.extname,"" %} {% assign file2 = file.basename |  prepend: '-' | prepend: filenameparts[-2] | prepend: "#imagegallery2-"| replace: " ","_"  %} 

{% if file.extname == '.GIF' or file.extname == '.gif' %}

{% assign file2 = file2 | replace: "#","" %} 

<p id="{{ file2 }}">

![ {{ filename }} ]({{ file.path }}){: {{ file.extname }} style="width:100%;" } 

</p>
{% else %}
{% if file.extname == '.mp4' or file.extname == '.MP4' %}
{% assign file2 = file2 | replace: "#","" %} 
<p id="{{ file2 }}" >

<video  width="100%" height="auto" controls>
<source src="{{ file.path }}" type="video/mp4">Your browser does not support the video tag.
</video>

</p>

{% else %}

[![ {{ filename }} ](//images.weserv.nl/?url=https://kyotolesson-class.github.io/{{ file.path }}&w=477)]({{ file.path }}){: target="_blank" style="width:auto;"} 
{: {{ file2 }} } 

{% endif %} 

{% endif %} 


{% endif %} {% endif %} {% endfor %}


</div>
<!-- necessary space-->
<div class="gallerymenu">

{% for file in site.static_files %} {%- if file.path contains include.folder -%} {%- if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.PNG' or file.extname == '.png' or file.extname == '.JPEG' or file.extname == '.GIF' or file.extname == '.gif' or file.extname == '.mp4' or file.extname == '.MP4' %} {% assign filenameparts = file.path | split: "/" -%} {%- assign filename = filenameparts | last | replace: file.extname,"" -%} {% assign file2 = file.basename  | prepend: '-' | prepend: filenameparts[-2] | prepend: "#imagegallery2-" | replace: " ","_" %}
[{{ filename | replace: "_", " " }}]({{ file2   }}) 
{%- endif -%} {%- endif -%} {% endfor %}

</div>

</div>